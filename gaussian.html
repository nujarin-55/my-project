<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <title>ガウス曲率</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.1.10/require.min.js"></script>
    <script>
      require.config({
          paths: {
              'd3': 'https://d3js.org/d3.v5.min',
              'ipywidgets': 'https://unpkg.com/@jupyter-widgets/controls/dist/ipywidgets.js'
          }
      });
    </script>
</head>
<body>
    <script type="text/python">
        import numpy as np
        import matplotlib.pyplot as plt
        from mpl_toolkits.mplot3d import Axes3D
        from ipywidgets import interact
        from IPython.display import HTML

        # ガウス曲率の関数
        def gaussian_curvature(u, v, a=1):
            return a * np.exp(-(u**2 + v**2))

        # 曲面をプロットする関数
        def plot_surface(a):
            u = np.linspace(-2, 2, 100)
            v = np.linspace(-2, 2, 100)
            U, V = np.meshgrid(u, v)
            Z = gaussian_curvature(U, V, a)

            fig = plt.figure(figsize=(8, 6))
            ax = fig.add_subplot(111, projection='3d')
            
            ax.plot_surface(U, V, Z, cmap='viridis')

            ax.set_xlabel('U')
            ax.set_ylabel('V')
            ax.set_zlabel('Z')
            ax.set_title(f'Gaussian Curvature Surface with a = {a}')
            ax.set_zlim(0, 1)  # z軸の範囲を固定

            plt.show()

        # インタラクティブなスライドバー
        html_output = interact(plot_surface, a=(0.1, 3.0, 0.1))
    </script>
</body>
</html>
